# Settings in the [build] context are global and are applied to
# all contexts unless otherwise overridden by more specific contexts.
[build]
# Directory to change to before starting a build.
# This is where we will look for package.json/.nvmrc/etc.
# If not set, defaults to the root directory.
base = "website/"

# Directory that contains the deploy-ready HTML files and
# assets generated by the build. This is relative to the base
# directory if one has been set, or the root directory if
# a base has not been set. This sample publishes the directory
# located at the absolute path "root/project/build-output"

publish = "build/"

# Default build command.
command = "./scripts/build.sh"

# Rebuild on _any_ change, not just those in the Playground
# https://docs.netlify.com/configure-builds/ignore-builds/#mimic-default-behavior
ignore = "git diff --quiet $CACHED_COMMIT_REF $COMMIT_REF"

# Redirect all requests to grats.netlify.app to grats.capt.dev
# Written by our good friend ChatGPT (after a few false starts)
[[redirects]]
from = "https://grats.netlify.app/*"
to = "https://grats.capt.dev/:splat"
status = 301

[build.environment]
NODE_VERSION = "20.10.0"
