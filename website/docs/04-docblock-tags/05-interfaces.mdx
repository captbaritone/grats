import GratsCode from "@site/src/components/GratsCode";
import InterfaceDeclaration from "!!raw-loader!./snippets/04-interface-declaration.out";
import InterfaceClassDeclaration from "!!raw-loader!./snippets/04-interface-class-declaration.out";
import NodeInterface from "!!raw-loader!./snippets/04-merged-interface-renaming.out";
import InterfaceImplementingInterface from "!!raw-loader!./snippets/04-interface-implement-interface.out";
import InterfaceFieldCommonImpl from "!!raw-loader!./snippets/04-interface-field-common-impl.out";

# Interfaces

GraphQL interfaces can be defined by placing a `@gqlInterface` docblock directly before an:

- Interface declaration
- Class declaration

To model your GraphQL interface using classes, simply add a `@gqlInterface` docblock
before the class. Note that with this approach, implementors of the interface will also inherit the field methods.

<GratsCode out={InterfaceClassDeclaration} mode="ts" />

If your types are represented in your code by TypeScript interfaces, simply add a
`@gqlType` docblock before the interface representing that type. Note that by
using `@gqlType` on an interface, Grats will treat it as a GraphQL type and not
an interface.

<GratsCode out={InterfaceDeclaration} mode="ts" />

If you wish to provide shared implementations for fields in an interface defined in this way, you can use the [functional style fields](./02-fields.mdx#functional-style-fields).

<GratsCode out={InterfaceFieldCommonImpl} mode="both" />

## Types Implementing Interfaces

To declare that a **type implements an interface**, see the [Implementing Interfaces](./01-types.mdx#implementing-interfaces) section of the Types docs.

## Interfaces Implementing Interfaces

To declare that an interface implements another interface, you can use TypeScript's `extends` keyword:

<GratsCode out={InterfaceImplementingInterface} mode="ts" />

Which will generate the following GraphQL schema:

<GratsCode out={InterfaceImplementingInterface} mode="gql" />

:::info
Interfaces will inherit GraphQL fields and interfaces from all interfaces they extend.
:::

## Merged Interfaces

TypeScript [merges interfaces](https://www.typescriptlang.org/docs/handbook/declaration-merging.html#merging-interfaces) if you to define multiple interfaces with the same name in the same scope. For example, `Node` is a built-in interface that describes DOM nodes. So, if you define a `Node` interface in your code, TypeScript will merge your interface with the built-in one.

To avoid ambiguity, Grats will error if you try to define a GraphQL interface using a merged TypeScript interface. To avoid this error you can define a new interface, with a unique name, and then [rename](../03-resolvers/04-renaming.mdx) it to the name you want to use in your schema.

<GratsCode out={NodeInterface} mode="ts" />
