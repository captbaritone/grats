{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://grats.capt.dev/docs/resolverSchema.json",
  "title": "Resolvers",
  "description": "Describes the JavaScript resolvers that back a GraphQL Schema.",
  "type": "object",
  "required": ["types"],
  "properties": {
    "types": {
      "description": "The resolvers backing a GraphQL object type. Each key is a GraphQL type name.",
      "type": "object",
      "patternProperties": {
        ".*": {
          "description": "The resolvers for the fields of the type. Each key is a field name.",
          "type": "object",
          "patternProperties": {
            ".*": { "$ref": "#/$defs/resolver" },
            "additionalProperties": false
          }
        }
      },
      "additionalProperties": false
    }
  },
  "$defs": {
    "resolver": {
      "description": "The JavaScript signature of the GraphQL field.",
      "type": "object",
      "oneOf": [
        { "$ref": "#/$defs/propertyResolver" },
        { "$ref": "#/$defs/functionResolver" },
        { "$ref": "#/$defs/methodResolver" },
        { "$ref": "#/$defs/staticMethodResolver" }
      ],
      "required": ["kind"]
    },
    "propertyResolver": {
      "description": "A field that simply a property on the `source` object. Can also be used for fields backed by `get` methods.",
      "type": "object",
      "required": ["kind"],
      "properties": {
        "kind": { "const": "property" },
        "name": {
          "description": "The name of the property on the `source` object. If omitted, the field name is used.",
          "type": "string"
        }
      },
      "additionalProperties": false
    },
    "functionResolver": {
      "description": "An exported function that is called to resolve the field.",
      "type": "object",
      "required": ["kind", "path"],
      "properties": {
        "kind": { "const": "function" },
        "path": {
          "description": "The path to the module that exports the function.",
          "type": "string"
        },
        "exportName": {
          "description": "The name of the export in the module. If omitted, the function is the module's default export.",
          "type": "string"
        },
        "arguments": { "$ref": "#/$defs/arguments" }
      },
      "additionalProperties": false
    },
    "methodResolver": {
      "type": "object",
      "required": ["kind"],
      "properties": {
        "kind": { "const": "method" },
        "name": { "type": "string" },
        "arguments": { "$ref": "#/$defs/arguments" }
      },
      "additionalProperties": false
    },
    "staticMethodResolver": {
      "type": "object",
      "required": ["kind", "path", "name"],
      "properties": {
        "kind": { "const": "staticMethod" },
        "path": { "type": "string" },
        "exportName": { "type": "string" },
        "name": { "type": "string" },
        "arguments": { "$ref": "#/$defs/arguments" }
      },
      "additionalProperties": false
    },
    "arguments": {
      "description": "The ordered arguments expected by the resolver function/method.",
      "type": "array",
      "items": {
        "description": "An argument expected by the resolver.",
        "type": "object",
        "required": ["kind"],
        "oneOf": [
          { "$ref": "#/$defs/sourceArgument" },
          { "$ref": "#/$defs/argumentsObjectArgument" },
          { "$ref": "#/$defs/contextArgument" },
          { "$ref": "#/$defs/informationArgument" },
          { "$ref": "#/$defs/namedArgument" }
        ]
      }
    },
    "sourceArgument": {
      "description": "The `source` or parent object. This is the first argument in the default resolver function signature.",
      "type": "object",
      "required": ["kind"],
      "additionalProperties": false,
      "properties": { "kind": { "const": "source" } }
    },
    "argumentsObjectArgument": {
      "description": "An object containing all of the field's arguments. This is the second argument in the default resolver function signature.",
      "type": "object",
      "required": ["kind"],
      "additionalProperties": false,
      "properties": { "kind": { "const": "argumentsObject" } }
    },
    "contextArgument": {
      "description": "The context object. This is the third argument in the default resolver function signature.",
      "type": "object",
      "required": ["kind"],
      "additionalProperties": false,
      "properties": { "kind": { "const": "context" } }
    },
    "informationArgument": {
      "description": "The info object. This is the fourth argument in the default resolver function signature.",
      "type": "object",
      "required": ["kind"],
      "additionalProperties": false,
      "properties": { "kind": { "const": "information" } }
    },
    "namedArgument": {
      "description": "A single named argument.",
      "type": "object",
      "required": ["kind", "name"],
      "additionalProperties": false,
      "properties": {
        "kind": { "const": "named" },
        "name": {
          "description": "The name of the GraphQL field argument that is expected.",
          "type": "string"
        }
      }
    }
  }
}
